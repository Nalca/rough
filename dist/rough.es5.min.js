var rough=function(){"use strict";var h=Math.round,g=Math.floor,y=Math.ceil,u=Math.abs,_=Math.tan,b=Math.sin,m=Math.cos,P=Math.PI,w=Math.max,O=Math.min,v=Math.sqrt,k=Math.pow;function e(e,t){function o(){this.constructor=e}S(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}function t(e,t,o,l){return new(o||(o=Promise))(function(p,n){function a(e){try{s(l.next(e))}catch(t){n(t)}}function i(e){try{s(l["throw"](e))}catch(t){n(t)}}function s(e){e.done?p(e.value):new o(function(t){t(e.value)}).then(a,i)}s((l=l.apply(e,t||[])).next())})}function l(e,o){function l(e){return function(t){return p([e,t])}}function p(t){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=2&t[0]?a["return"]:t[0]?a["throw"]||((i=a["return"])&&i.call(a),0):a.next)&&!(i=i.call(a,t[1])).done)return i;switch((a=0,i)&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return r.label++,{value:t[1],done:!1};case 5:r.label++,a=t[1],t=[0];continue;case 7:t=r.ops.pop(),r.trys.pop();continue;default:if((i=r.trys,!(i=0<i.length&&i[i.length-1]))&&(6===t[0]||2===t[0])){r=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){r.label=t[1];break}if(6===t[0]&&r.label<i[1]){r.label=i[1],i=t;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(t);break}i[2]&&r.ops.pop(),r.trys.pop();continue;}t=o.call(e,r)}catch(o){t=[6,o],a=0}finally{n=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}var n,a,i,s,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s}function p(e,t){return e.type===t}function n(e){var t=e[0],o=e[1];return v(k(t[0]-o[0],2)+k(t[1]-o[1],2))}function a(e,t){for(var o,l=[],p=new L([e[0],e[1]],[e[2],e[3]]),n=0;n<t.length;n++)o=new L(t[n],t[(n+1)%t.length]),p.intersects(o)&&l.push([p.xi,p.yi]);return l}function i(e,t,o,l,p,n,a){return[-o*n-l*p+o+n*e+p*t,a*(o*p-l*n)+l+-a*p*e+a*n*t]}function s(e,t){var o=[];if(e&&e.length){for(var l=e[0][0],p=e[0][0],n=e[0][1],s=e[0][1],r=1;r<e.length;r++)l=O(l,e[r][0]),p=w(p,e[r][0]),n=O(n,e[r][1]),s=w(s,e[r][1]);var d=t.hachureAngle,f=t.hachureGap;0>f&&(f=4*t.strokeWidth),f=w(f,.1);for(var h=d%180*(P/180),g=m(h),y=b(h),c=_(h),u=new W(n-1,s+1,l-1,p+1,f,y,g,c),x=void 0;null!=(x=u.nextLine());)for(var v=a(x,e),r=0;r<v.length;r++)if(r<v.length-1){var k=v[r],S=v[r+1];o.push([k,S])}}return o}function r(e,t,l,p,n,o){var a=[],s=u(l/2),r=u(p/2);s+=o.getOffset(.05*-s,.05*s,n),r+=o.getOffset(.05*-r,.05*r,n);var d=n.hachureAngle,f=n.hachureGap;0>=f&&(f=4*n.strokeWidth);var h=n.fillWeight;0>h&&(h=n.strokeWidth/2);for(var g=_(d%180*(P/180)),y=r/s,c=v(y*g*y*g+1),b=y*g/c,x=1/c,m=f/(s*r/v(r*x*(r*x)+s*b*(s*b))/s),w=v(s*s-(e-s+m)*(e-s+m)),O=e-s+m;O<e+s;O+=m){w=v(s*s-(e-O)*(e-O));var k=i(O,t-w,e,t,b,x,y),S=i(O,t+w,e,t,b,x,y);a.push([k,S])}return a}function d(e,t){var o=t.fillStyle||"hachure";if(!F[o])switch(o){case"zigzag":F[o]||(F[o]=new D(e));break;case"cross-hatch":F[o]||(F[o]=new R(e));break;case"dots":F[o]||(F[o]=new B(e));break;case"hachure":default:o="hachure",F[o]||(F[o]=new N(e));}return F[o]}function f(e){if(q&&U&&self&&self.workly&&e.async&&!e.noWorker){var t=e.worklyURL||"https://cdn.jsdelivr.net/gh/pshihn/workly/dist/workly.min.js";if(t){var o=URL.createObjectURL(new Blob(["importScripts('"+t+"', '"+U+"');\nworkly.expose(self.rough.createRenderer());"]));return self.workly.proxy(o)}}return new M}var S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},A={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:4,t:2,V:1,v:1,Z:0,z:0},T=function(){function e(e){this.COMMAND=0,this.NUMBER=1,this.EOD=2,this.segments=[],this.parseData(e),this.processPoints()}return e.prototype.tokenize=function(e){for(var t=[];""!==e;)if(e.match(/^([ \t\r\n,]+)/))e=e.substr(RegExp.$1.length);else if(e.match(/^([aAcChHlLmMqQsStTvVzZ])/))t[t.length]={type:this.COMMAND,text:RegExp.$1},e=e.substr(RegExp.$1.length);else if(e.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))t[t.length]={type:this.NUMBER,text:""+parseFloat(RegExp.$1)},e=e.substr(RegExp.$1.length);else return console.error("Unrecognized segment command: "+e),[];return t[t.length]={type:this.EOD,text:""},t},e.prototype.parseData=function(e){var t=this.tokenize(e),o=0,l=t[o],n="BOD";for(this.segments=[];!p(l,this.EOD);){var a=void 0,s=[];if("BOD"!==n)p(l,this.NUMBER)?a=A[n]:(o++,a=A[l.text],n=l.text);else if("M"===l.text||"m"===l.text)o++,a=A[l.text],n=l.text;else return void this.parseData("M0,0"+e);if(o+a<t.length){for(var r,d=o;d<o+a;d++)if(r=t[d],p(r,this.NUMBER))s[s.length]=+r.text;else return void console.error("Parameter type is not a number: "+n+","+r.text);if("number"==typeof A[n]){var f={key:n,data:s};this.segments.push(f),o+=a,l=t[o],"M"===n&&(n="L"),"m"===n&&(n="l")}else return void console.error("Unsupported segment type: "+n)}else console.error("Path data ended before all parameters were found")}},Object.defineProperty(e.prototype,"closed",{get:function(){if("undefined"==typeof this._closed){this._closed=!1;for(var e,t=0,o=this.segments;t<o.length;t++)e=o[t],"z"===e.key.toLowerCase()&&(this._closed=!0)}return this._closed},enumerable:!0,configurable:!0}),e.prototype.processPoints=function(){for(var e,t=null,o=[0,0],l=0;l<this.segments.length;l++){switch(e=this.segments[l],e.key){case"M":case"L":case"T":e.point=[e.data[0],e.data[1]];break;case"m":case"l":case"t":e.point=[e.data[0]+o[0],e.data[1]+o[1]];break;case"H":e.point=[e.data[0],o[1]];break;case"h":e.point=[e.data[0]+o[0],o[1]];break;case"V":e.point=[o[0],e.data[0]];break;case"v":e.point=[o[0],e.data[0]+o[1]];break;case"z":case"Z":t&&(e.point=[t[0],t[1]]);break;case"C":e.point=[e.data[4],e.data[5]];break;case"c":e.point=[e.data[4]+o[0],e.data[5]+o[1]];break;case"S":e.point=[e.data[2],e.data[3]];break;case"s":e.point=[e.data[2]+o[0],e.data[3]+o[1]];break;case"Q":e.point=[e.data[2],e.data[3]];break;case"q":e.point=[e.data[2]+o[0],e.data[3]+o[1]];break;case"A":e.point=[e.data[5],e.data[6]];break;case"a":e.point=[e.data[5]+o[0],e.data[6]+o[1]];}("m"===e.key||"M"===e.key)&&(t=null),e.point&&(o=e.point,!t&&(t=e.point)),("z"===e.key||"Z"===e.key)&&(t=null)}},e}(),C=function(){function e(e){this._position=[0,0],this._first=null,this.bezierReflectionPoint=null,this.quadReflectionPoint=null,this.parsed=new T(e)}return Object.defineProperty(e.prototype,"segments",{get:function(){return this.parsed.segments},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"closed",{get:function(){return this.parsed.closed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"linearPoints",{get:function(){if(!this._linearPoints){for(var e=[],t=[],o=0,l=this.parsed.segments;o<l.length;o++){var p=l[o],n=p.key.toLowerCase();("m"===n||"z"===n)&&(t.length&&(e.push(t),t=[]),"z"===n)||p.point&&t.push(p.point)}t.length&&(e.push(t),t=[]),this._linearPoints=e}return this._linearPoints},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"first",{get:function(){return this._first},set:function(e){this._first=e},enumerable:!0,configurable:!0}),e.prototype.setPosition=function(e,t){this._position=[e,t],this._first||(this._first=[e,t])},Object.defineProperty(e.prototype,"position",{get:function(){return this._position},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this._position[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._position[1]},enumerable:!0,configurable:!0}),e}(),z=function(){function e(e,t,o,l,p,n){if(this._segIndex=0,this._numSegs=0,this._rx=0,this._ry=0,this._sinPhi=0,this._cosPhi=0,this._C=[0,0],this._theta=0,this._delta=0,this._T=0,this._from=e,e[0]!==t[0]||e[1]!==t[1]){var a=P/180;this._rx=u(o[0]),this._ry=u(o[1]),this._sinPhi=b(l*a),this._cosPhi=m(l*a);var i=this._cosPhi*(e[0]-t[0])/2+this._sinPhi*(e[1]-t[1])/2,r=-this._sinPhi*(e[0]-t[0])/2+this._cosPhi*(e[1]-t[1])/2,d=0,f=this._rx*this._rx*this._ry*this._ry-this._rx*this._rx*r*r-this._ry*this._ry*i*i;if(0>f){var h=v(1-f/(this._rx*this._rx*this._ry*this._ry));this._rx*=h,this._ry*=h,d=0}else d=(p===n?-1:1)*v(f/(this._rx*this._rx*r*r+this._ry*this._ry*i*i));var s=d*this._rx*r/this._ry,g=-d*this._ry*i/this._rx;this._C=[0,0],this._C[0]=this._cosPhi*s-this._sinPhi*g+(e[0]+t[0])/2,this._C[1]=this._sinPhi*s+this._cosPhi*g+(e[1]+t[1])/2,this._theta=this.calculateVectorAngle(1,0,(i-s)/this._rx,(r-g)/this._ry);var c=this.calculateVectorAngle((i-s)/this._rx,(r-g)/this._ry,(-i-s)/this._rx,(-r-g)/this._ry);!n&&0<c?c-=2*P:n&&0>c&&(c+=2*P),this._numSegs=y(u(c/(P/2))),this._delta=c/this._numSegs,this._T=8/3*b(this._delta/4)*b(this._delta/4)/b(this._delta/2)}}return e.prototype.getNextSegment=function(){if(this._segIndex===this._numSegs)return null;var e=m(this._theta),t=b(this._theta),o=this._theta+this._delta,l=m(o),p=b(o),n=[this._cosPhi*this._rx*l-this._sinPhi*this._ry*p+this._C[0],this._sinPhi*this._rx*l+this._cosPhi*this._ry*p+this._C[1]],a=[this._from[0]+this._T*(-this._cosPhi*this._rx*t-this._sinPhi*this._ry*e),this._from[1]+this._T*(-this._sinPhi*this._rx*t+this._cosPhi*this._ry*e)],i=[n[0]+this._T*(this._cosPhi*this._rx*p+this._sinPhi*this._ry*l),n[1]+this._T*(this._sinPhi*this._rx*p-this._cosPhi*this._ry*l)];return this._theta=o,this._from=[n[0],n[1]],this._segIndex++,{cp1:a,cp2:i,to:n}},e.prototype.calculateVectorAngle=function(e,t,o,l){var p=Math.atan2,n=p(t,e),a=p(l,o);return a>=n?a-n:2*P-(n-a)},e}(),E=function(){function e(e,t){this.sets=e,this.closed=t}return e.prototype.fit=function(e){for(var t=[],o=0,l=this.sets;o<l.length;o++){var p=l[o],n=p.length,a=g(e*n);if(5>a){if(5>=n)continue;a=5}t.push(this.reduce(p,a))}for(var p,s="",r=0,f=t;r<f.length;r++){p=f[r];for(var h,y=0;y<p.length;y++)h=p[y],s+=0==y?"M"+h[0]+","+h[1]:"L"+h[0]+","+h[1];this.closed&&(s+="z ")}return s},e.prototype.distance=function(e,t){return v(k(e[0]-t[0],2)+k(e[1]-t[1],2))},e.prototype.reduce=function(e,t){if(e.length<=t)return e;for(var o=e.slice(0);o.length>t;){for(var l=-1,p=-1,n=1;n<o.length-1;n++){var r=this.distance(o[n-1],o[n]),a=this.distance(o[n],o[n+1]),d=this.distance(o[n-1],o[n+1]),f=(r+a+d)/2,s=v(f*(f-r)*(f-a)*(f-d));(0>l||s<l)&&(l=s,p=n)}if(0<p)o.splice(p,1);else break}return o},e}(),L=function(){var t=Number.MAX_VALUE;function e(e,o){this.xi=t,this.yi=t,this.px1=e[0],this.py1=e[1],this.px2=o[0],this.py2=o[1],this.a=this.py2-this.py1,this.b=this.px1-this.px2,this.c=this.px2*this.py1-this.px1*this.py2,this._undefined=0===this.a&&0===this.b&&0===this.c}return e.prototype.isUndefined=function(){return this._undefined},e.prototype.intersects=function(e){if(this.isUndefined()||e.isUndefined())return!1;var o=t,l=t,p=0,n=0,i=this.a,a=this.b,s=this.c;return(1e-5<u(a)&&(o=-i/a,p=-s/a),1e-5<u(e.b)&&(l=-e.a/e.b,n=-e.c/e.b),o===t)?l===t?-s/i==-e.c/e.a&&(this.py1>=O(e.py1,e.py2)&&this.py1<=w(e.py1,e.py2)?(this.xi=this.px1,this.yi=this.py1,!0):!!(this.py2>=O(e.py1,e.py2)&&this.py2<=w(e.py1,e.py2))&&(this.xi=this.px2,this.yi=this.py2,!0)):(this.xi=this.px1,this.yi=l*this.xi+n,!(-1e-5>(this.py1-this.yi)*(this.yi-this.py2)||-1e-5>(e.py1-this.yi)*(this.yi-e.py2))&&(!(1e-5>u(e.a))||!(-1e-5>(e.px1-this.xi)*(this.xi-e.px2)))):l===t?(this.xi=e.px1,this.yi=o*this.xi+p,!(-1e-5>(e.py1-this.yi)*(this.yi-e.py2)||-1e-5>(this.py1-this.yi)*(this.yi-this.py2))&&(!(1e-5>u(i))||!(-1e-5>(this.px1-this.xi)*(this.xi-this.px2)))):o===l?p===n&&(this.px1>=O(e.px1,e.px2)&&this.px1<=w(e.py1,e.py2)?(this.xi=this.px1,this.yi=this.py1,!0):!!(this.px2>=O(e.px1,e.px2)&&this.px2<=w(e.px1,e.px2))&&(this.xi=this.px2,this.yi=this.py2,!0)):(this.xi=(n-p)/(o-l),this.yi=o*this.xi+p,!(-1e-5>(this.px1-this.xi)*(this.xi-this.px2)||-1e-5>(e.px1-this.xi)*(this.xi-e.px2)))},e}(),W=function(){function e(e,t,o,l,p,n,a,i){this.deltaX=0,this.hGap=0,this.top=e,this.bottom=t,this.left=o,this.right=l,this.gap=p,this.sinAngle=n,this.tanAngle=i,1e-4>u(n)?this.pos=o+p:.9999<u(n)?this.pos=e+p:(this.deltaX=(t-e)*u(i),this.pos=o-u(this.deltaX),this.hGap=u(p/a),this.sLeft=new L([o,t],[o,e]),this.sRight=new L([l,t],[l,e]))}return e.prototype.nextLine=function(){if(1e-4>u(this.sinAngle)){if(this.pos<this.right){var e=[this.pos,this.top,this.pos,this.bottom];return this.pos+=this.gap,e}}else if(!(.9999<u(this.sinAngle))){var t=this.pos-this.deltaX/2,o=this.pos+this.deltaX/2,l=this.bottom,p=this.top;if(this.pos<this.right+this.deltaX){for(;t<this.left&&o<this.left||t>this.right&&o>this.right;)if(this.pos+=this.hGap,t=this.pos-this.deltaX/2,o=this.pos+this.deltaX/2,this.pos>this.right+this.deltaX)return null;var n=new L([t,l],[o,p]);this.sLeft&&n.intersects(this.sLeft)&&(t=n.xi,l=n.yi),this.sRight&&n.intersects(this.sRight)&&(o=n.xi,p=n.yi),0<this.tanAngle&&(t=this.right-(t-this.left),o=this.right-(o-this.left));var e=[t,l,o,p];return this.pos+=this.hGap,e}}else if(this.pos<this.bottom){var e=[this.left,this.pos,this.right,this.pos];return this.pos+=this.gap,e}return null},e}(),N=function(){function e(e){this.renderer=e}return e.prototype.fillPolygon=function(e,t){return this._fillPolygon(e,t)},e.prototype.fillEllipse=function(e,t,l,p,n){return this._fillEllipse(e,t,l,p,n)},e.prototype._fillPolygon=function(e,t,o){void 0===o&&(o=!1);var l=s(e,t),p=this.renderLines(l,t,o);return{type:"fillSketch",ops:p}},e.prototype._fillEllipse=function(e,t,l,p,n,o){void 0===o&&(o=!1);var a=r(e,t,l,p,n,this.renderer),i=this.renderLines(a,n,o);return{type:"fillSketch",ops:i}},e.prototype.renderLines=function(e,t,o){for(var l,p=[],n=null,a=0,i=e;a<i.length;a++)l=i[a],p=p.concat(this.renderer.doubleLine(l[0][0],l[0][1],l[1][0],l[1][1],t)),o&&n&&(p=p.concat(this.renderer.doubleLine(n[0],n[1],l[0][0],l[0][1],t))),n=l[1];return p},e}(),D=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return e(o,t),o.prototype.fillPolygon=function(e,t){return this._fillPolygon(e,t,!0)},o.prototype.fillEllipse=function(e,t,l,p,n){return this._fillEllipse(e,t,l,p,n,!0)},o}(N),R=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return e(o,t),o.prototype.fillPolygon=function(e,t){var o=this._fillPolygon(e,t),l=Object.assign({},t,{hachureAngle:t.hachureAngle+90}),p=this._fillPolygon(e,l);return o.ops=o.ops.concat(p.ops),o},o.prototype.fillEllipse=function(e,t,l,p,n){var o=this._fillEllipse(e,t,l,p,n),a=Object.assign({},n,{hachureAngle:n.hachureAngle+90}),i=this._fillEllipse(e,t,l,p,a);return o.ops=o.ops.concat(i.ops),o},o}(N),B=function(){function e(e){this.renderer=e}return e.prototype.fillPolygon=function(e,t){t=Object.assign({},t,{curveStepCount:4,hachureAngle:0});var l=s(e,t);return this.dotsOnLines(l,t)},e.prototype.fillEllipse=function(e,t,l,p,n){n=Object.assign({},n,{curveStepCount:4,hachureAngle:0});var a=r(e,t,l,p,n,this.renderer);return this.dotsOnLines(a,n)},e.prototype.dotsOnLines=function(e,t){var o=Math.atan,p=[],a=t.hachureGap;0>a&&(a=4*t.strokeWidth),a=w(a,.1);var s=t.fillWeight;0>s&&(s=t.strokeWidth/2);for(var r=0,d=e;r<d.length;r++)for(var f=d[r],h=n(f),g=h/a,u=y(g)-1,_=o((f[1][1]-f[0][1])/(f[1][0]-f[0][0])),x=0;x<u;x++){var P=a*(x+1),l=P*b(_),O=P*m(_),v=[f[0][0]-O,f[0][1]+l],c=this.renderer.getOffset(v[0]-a/4,v[0]+a/4,t),k=this.renderer.getOffset(v[1]-a/4,v[1]+a/4,t),S=this.renderer.ellipse(c,k,s,s,t);p=p.concat(S.ops)}return{type:"fillSketch",ops:p}},e}(),F={},M=function(){function e(){}return e.prototype.line=function(e,t,l,p,n){var o=this.doubleLine(e,t,l,p,n);return{type:"path",ops:o}},e.prototype.linearPath=function(e,t,l){var o=(e||[]).length;if(2<o){for(var p=[],n=0;n<o-1;n++)p=p.concat(this.doubleLine(e[n][0],e[n][1],e[n+1][0],e[n+1][1],l));return t&&(p=p.concat(this.doubleLine(e[o-1][0],e[o-1][1],e[0][0],e[0][1],l))),{type:"path",ops:p}}return 2===o?this.line(e[0][0],e[0][1],e[1][0],e[1][1],l):{type:"path",ops:[]}},e.prototype.polygon=function(e,t){return this.linearPath(e,!0,t)},e.prototype.rectangle=function(e,t,l,p,n){return this.polygon([[e,t],[e+l,t],[e+l,t+p],[e,t+p]],n)},e.prototype.curve=function(e,t){var o=this._curveWithOffset(e,1*(1+.2*t.roughness),t),l=this._curveWithOffset(e,1.5*(1+.22*t.roughness),t);return{type:"path",ops:o.concat(l)}},e.prototype.ellipse=function(e,t,l,p,n){var o=2*P/n.curveStepCount,a=u(l/2),i=u(p/2);a+=this.getOffset(.05*-a,.05*a,n),i+=this.getOffset(.05*-i,.05*i,n);var s=this._ellipse(o,e,t,a,i,1,o*this.getOffset(.1,this.getOffset(.4,1,n),n),n),r=this._ellipse(o,e,t,a,i,1.5,0,n);return{type:"path",ops:s.concat(r)}},e.prototype.arc=function(e,t,l,p,n,a,i,s,r){var o=e,d=t,f=u(l/2),h=u(p/2);f+=this.getOffset(.01*-f,.01*f,r),h+=this.getOffset(.01*-h,.01*h,r);for(var g=n,y=a;0>g;)g+=2*P,y+=2*P;y-g>2*P&&(g=0,y=2*P);var c=2*P/r.curveStepCount,_=O(c/2,(y-g)/2),x=this._arc(_,o,d,f,h,g,y,1,r),w=this._arc(_,o,d,f,h,g,y,1.5,r),v=x.concat(w);return i&&(s?(v=v.concat(this.doubleLine(o,d,o+f*m(g),d+h*b(g),r)),v=v.concat(this.doubleLine(o,d,o+f*m(y),d+h*b(y),r))):(v.push({op:"lineTo",data:[o,d]}),v.push({op:"lineTo",data:[o+f*m(g),d+h*b(g)]}))),{type:"path",ops:v}},e.prototype.svgPath=function(e,t){e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");var o=new C(e);if(t.simplification){var l=new E(o.linearPoints,o.closed),n=l.fit(t.simplification);o=new C(n)}for(var a=[],r=o.segments||[],d=0;d<r.length;d++){var f=r[d],s=0<d?r[d-1]:null,h=this._processSegment(o,f,s,t);h&&h.length&&(a=a.concat(h))}return{type:"path",ops:a}},e.prototype.solidFillPolygon=function(e,t){var o=[];if(e.length){var l=t.maxRandomnessOffset||0,p=e.length;if(2<p){o.push({op:"move",data:[e[0][0]+this.getOffset(-l,l,t),e[0][1]+this.getOffset(-l,l,t)]});for(var n=1;n<p;n++)o.push({op:"lineTo",data:[e[n][0]+this.getOffset(-l,l,t),e[n][1]+this.getOffset(-l,l,t)]})}}return{type:"fillPath",ops:o}},e.prototype.patternFillPolygon=function(e,t){var o=d(this,t);return o.fillPolygon(e,t)},e.prototype.patternFillEllipse=function(e,t,l,p,n){var o=d(this,n);return o.fillEllipse(e,t,l,p,n)},e.prototype.patternFillArc=function(e,t,l,p,n,a,i){var o=e,s=t,r=u(l/2),d=u(p/2);r+=this.getOffset(.01*-r,.01*r,i),d+=this.getOffset(.01*-d,.01*d,i);for(var f=n,h=a;0>f;)f+=2*P,h+=2*P;h-f>2*P&&(f=0,h=2*P);for(var g=(h-f)/i.curveStepCount,y=[],c=f;c<=h;c+=g)y.push([o+r*m(c),s+d*b(c)]);return y.push([o+r*m(h),s+d*b(h)]),y.push([o,s]),this.patternFillPolygon(y,i)},e.prototype.getOffset=function(e,t,o){return o.roughness*(Math.random()*(t-e)+e)},e.prototype.doubleLine=function(e,t,l,p,n){var o=this._line(e,t,l,p,n,!0,!1),a=this._line(e,t,l,p,n,!0,!0);return o.concat(a)},e.prototype._line=function(e,t,l,p,n,o,a){var i=k(e-l,2)+k(t-p,2),s=n.maxRandomnessOffset||0;100*(s*s)>i&&(s=v(i)/10);var r=s/2,d=.2+.2*Math.random(),f=n.bowing*n.maxRandomnessOffset*(p-t)/200,h=n.bowing*n.maxRandomnessOffset*(e-l)/200;f=this.getOffset(-f,f,n),h=this.getOffset(-h,h,n);var g=[];return o&&(a?g.push({op:"move",data:[e+this.getOffset(-r,r,n),t+this.getOffset(-r,r,n)]}):g.push({op:"move",data:[e+this.getOffset(-s,s,n),t+this.getOffset(-s,s,n)]})),a?g.push({op:"bcurveTo",data:[f+e+(l-e)*d+this.getOffset(-r,r,n),h+t+(p-t)*d+this.getOffset(-r,r,n),f+e+2*(l-e)*d+this.getOffset(-r,r,n),h+t+2*(p-t)*d+this.getOffset(-r,r,n),l+this.getOffset(-r,r,n),p+this.getOffset(-r,r,n)]}):g.push({op:"bcurveTo",data:[f+e+(l-e)*d+this.getOffset(-s,s,n),h+t+(p-t)*d+this.getOffset(-s,s,n),f+e+2*(l-e)*d+this.getOffset(-s,s,n),h+t+2*(p-t)*d+this.getOffset(-s,s,n),l+this.getOffset(-s,s,n),p+this.getOffset(-s,s,n)]}),g},e.prototype._curve=function(e,t,l){var o=e.length,p=[];if(3<o){var n=[],a=1-l.curveTightness;p.push({op:"move",data:[e[1][0],e[1][1]]});for(var s,r=1;r+2<o;r++)s=e[r],n[0]=[s[0],s[1]],n[1]=[s[0]+(a*e[r+1][0]-a*e[r-1][0])/6,s[1]+(a*e[r+1][1]-a*e[r-1][1])/6],n[2]=[e[r+1][0]+(a*e[r][0]-a*e[r+2][0])/6,e[r+1][1]+(a*e[r][1]-a*e[r+2][1])/6],n[3]=[e[r+1][0],e[r+1][1]],p.push({op:"bcurveTo",data:[n[1][0],n[1][1],n[2][0],n[2][1],n[3][0],n[3][1]]});if(t&&2===t.length){var d=l.maxRandomnessOffset;p.push({op:"lineTo",data:[t[0]+this.getOffset(-d,d,l),t[1]+ +this.getOffset(-d,d,l)]})}}else 3===o?(p.push({op:"move",data:[e[1][0],e[1][1]]}),p.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):2===o&&(p=p.concat(this.doubleLine(e[0][0],e[0][1],e[1][0],e[1][1],l)));return p},e.prototype._ellipse=function(e,t,l,p,n,a,i,s){var o=this.getOffset(-.5,.5,s)-P/2,r=[];r.push([this.getOffset(-a,a,s)+t+.9*p*m(o-e),this.getOffset(-a,a,s)+l+.9*n*b(o-e)]);for(var d=o;d<2*P+o-.01;d+=e)r.push([this.getOffset(-a,a,s)+t+p*m(d),this.getOffset(-a,a,s)+l+n*b(d)]);return r.push([this.getOffset(-a,a,s)+t+p*m(o+2*P+.5*i),this.getOffset(-a,a,s)+l+n*b(o+2*P+.5*i)]),r.push([this.getOffset(-a,a,s)+t+.98*p*m(o+i),this.getOffset(-a,a,s)+l+.98*n*b(o+i)]),r.push([this.getOffset(-a,a,s)+t+.9*p*m(o+.5*i),this.getOffset(-a,a,s)+l+.9*n*b(o+.5*i)]),this._curve(r,null,s)},e.prototype._curveWithOffset=function(e,t,l){for(var o=[[e[0][0]+this.getOffset(-t,t,l),e[0][1]+this.getOffset(-t,t,l)],[e[0][0]+this.getOffset(-t,t,l),e[0][1]+this.getOffset(-t,t,l)]],p=1;p<e.length;p++)o.push([e[p][0]+this.getOffset(-t,t,l),e[p][1]+this.getOffset(-t,t,l)]),p==e.length-1&&o.push([e[p][0]+this.getOffset(-t,t,l),e[p][1]+this.getOffset(-t,t,l)]);return this._curve(o,null,l)},e.prototype._arc=function(e,t,l,p,n,a,i,s,r){var o=a+this.getOffset(-.1,.1,r),d=[];d.push([this.getOffset(-s,s,r)+t+.9*p*m(o-e),this.getOffset(-s,s,r)+l+.9*n*b(o-e)]);for(var f=o;f<=i;f+=e)d.push([this.getOffset(-s,s,r)+t+p*m(f),this.getOffset(-s,s,r)+l+n*b(f)]);return d.push([t+p*m(i),l+n*b(i)]),d.push([t+p*m(i),l+n*b(i)]),this._curve(d,null,r)},e.prototype._bezierTo=function(e,t,l,p,n,a,s,r){for(var o=[],d=[r.maxRandomnessOffset||1,(r.maxRandomnessOffset||1)+.5],h=[0,0],g=0;2>g;g++)0==g?o.push({op:"move",data:[s.x,s.y]}):o.push({op:"move",data:[s.x+this.getOffset(-d[0],d[0],r),s.y+this.getOffset(-d[0],d[0],r)]}),h=[n+this.getOffset(-d[g],d[g],r),a+this.getOffset(-d[g],d[g],r)],o.push({op:"bcurveTo",data:[e+this.getOffset(-d[g],d[g],r),t+this.getOffset(-d[g],d[g],r),l+this.getOffset(-d[g],d[g],r),p+this.getOffset(-d[g],d[g],r),h[0],h[1]]});return s.setPosition(h[0],h[1]),o},e.prototype._processSegment=function(e,t,l,p){var o=[];switch(t.key){case"M":case"m":{var n="m"===t.key;if(2<=t.data.length){var a=+t.data[0],s=+t.data[1];n&&(a+=e.x,s+=e.y);var r=1*(p.maxRandomnessOffset||0);a+=this.getOffset(-r,r,p),s+=this.getOffset(-r,r,p),e.setPosition(a,s),o.push({op:"move",data:[a,s]})}break}case"L":case"l":{var n="l"===t.key;if(2<=t.data.length){var a=+t.data[0],s=+t.data[1];n&&(a+=e.x,s+=e.y),o=o.concat(this.doubleLine(e.x,e.y,a,s,p)),e.setPosition(a,s)}break}case"H":case"h":{var n="h"===t.key;if(t.data.length){var a=+t.data[0];n&&(a+=e.x),o=o.concat(this.doubleLine(e.x,e.y,a,e.y,p)),e.setPosition(a,e.y)}break}case"V":case"v":{var n="v"===t.key;if(t.data.length){var s=+t.data[0];n&&(s+=e.y),o=o.concat(this.doubleLine(e.x,e.y,e.x,s,p)),e.setPosition(e.x,s)}break}case"Z":case"z":{e.first&&(o=o.concat(this.doubleLine(e.x,e.y,e.first[0],e.first[1],p)),e.setPosition(e.first[0],e.first[1]),e.first=null);break}case"C":case"c":{var n="c"===t.key;if(6<=t.data.length){var d=+t.data[0],h=+t.data[1],g=+t.data[2],c=+t.data[3],a=+t.data[4],s=+t.data[5];n&&(d+=e.x,g+=e.x,a+=e.x,h+=e.y,c+=e.y,s+=e.y);var u=this._bezierTo(d,h,g,c,a,s,e,p);o=o.concat(u),e.bezierReflectionPoint=[a+(a-g),s+(s-c)]}break}case"S":case"s":{var n="s"===t.key;if(4<=t.data.length){var g=+t.data[0],c=+t.data[1],a=+t.data[2],s=+t.data[3];n&&(g+=e.x,a+=e.x,c+=e.y,s+=e.y);var d=g,h=c,_=l?l.key:"",b=null;("c"===_||"C"===_||"s"===_||"S"===_)&&(b=e.bezierReflectionPoint),b&&(d=b[0],h=b[1]);var u=this._bezierTo(d,h,g,c,a,s,e,p);o=o.concat(u),e.bezierReflectionPoint=[a+(a-g),s+(s-c)]}break}case"Q":case"q":{var n="q"===t.key;if(4<=t.data.length){var d=+t.data[0],h=+t.data[1],a=+t.data[2],s=+t.data[3];n&&(d+=e.x,a+=e.x,h+=e.y,s+=e.y);var m=1*(1+.2*p.roughness),P=1.5*(1+.22*p.roughness);o.push({op:"move",data:[e.x+this.getOffset(-m,m,p),e.y+this.getOffset(-m,m,p)]});var w=[a+this.getOffset(-m,m,p),s+this.getOffset(-m,m,p)];o.push({op:"qcurveTo",data:[d+this.getOffset(-m,m,p),h+this.getOffset(-m,m,p),w[0],w[1]]}),o.push({op:"move",data:[e.x+this.getOffset(-P,P,p),e.y+this.getOffset(-P,P,p)]}),w=[a+this.getOffset(-P,P,p),s+this.getOffset(-P,P,p)],o.push({op:"qcurveTo",data:[d+this.getOffset(-P,P,p),h+this.getOffset(-P,P,p),w[0],w[1]]}),e.setPosition(w[0],w[1]),e.quadReflectionPoint=[a+(a-d),s+(s-h)]}break}case"T":case"t":{var n="t"===t.key;if(2<=t.data.length){var a=+t.data[0],s=+t.data[1];n&&(a+=e.x,s+=e.y);var d=a,h=s,_=l?l.key:"",b=null;("q"===_||"Q"===_||"t"===_||"T"===_)&&(b=e.quadReflectionPoint),b&&(d=b[0],h=b[1]);var m=1*(1+.2*p.roughness),P=1.5*(1+.22*p.roughness);o.push({op:"move",data:[e.x+this.getOffset(-m,m,p),e.y+this.getOffset(-m,m,p)]});var w=[a+this.getOffset(-m,m,p),s+this.getOffset(-m,m,p)];o.push({op:"qcurveTo",data:[d+this.getOffset(-m,m,p),h+this.getOffset(-m,m,p),w[0],w[1]]}),o.push({op:"move",data:[e.x+this.getOffset(-P,P,p),e.y+this.getOffset(-P,P,p)]}),w=[a+this.getOffset(-P,P,p),s+this.getOffset(-P,P,p)],o.push({op:"qcurveTo",data:[d+this.getOffset(-P,P,p),h+this.getOffset(-P,P,p),w[0],w[1]]}),e.setPosition(w[0],w[1]),e.quadReflectionPoint=[a+(a-d),s+(s-h)]}break}case"A":case"a":{var n="a"===t.key;if(7<=t.data.length){var O=+t.data[0],v=+t.data[1],k=+t.data[2],S=+t.data[3],A=+t.data[4],a=+t.data[5],s=+t.data[6];if(n&&(a+=e.x,s+=e.y),a===e.x&&s===e.y)break;if(0==O||0===v)o=o.concat(this.doubleLine(e.x,e.y,a,s,p)),e.setPosition(a,s);else for(var T=0;1>T;T++)for(var u,C=new z([e.x,e.y],[a,s],[O,v],k,!!S,!!A),E=C.getNextSegment();E;)u=this._bezierTo(E.cp1[0],E.cp1[1],E.cp2[0],E.cp2[1],E.to[0],E.to[1],e,p),o=o.concat(u),E=C.getNextSegment()}break}default:}return o},e}(),q="undefined"!=typeof self,U=q&&self&&self.document&&self.document.currentScript&&self.document.currentScript.src,X="undefined"!=typeof self,V=function(){function e(e,t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1},this.config=e||{},this.surface=t,this.renderer=f(this.config),this.config.options&&(this.defaultOptions=this._options(this.config.options))}return e.prototype._options=function(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions},e.prototype._drawable=function(e,t,o){return{shape:e,sets:t||[],options:o||this.defaultOptions}},Object.defineProperty(e.prototype,"lib",{get:function(){return this.renderer},enumerable:!0,configurable:!0}),e.prototype.getCanvasSize=function(){var e=function(e){return e&&"object"==typeof e&&e.baseVal&&e.baseVal.value?e.baseVal.value:e||100};return this.surface?[e(this.surface.width),e(this.surface.height)]:[100,100]},e.prototype.computePolygonSize=function(e){if(e.length){for(var t=e[0][0],o=e[0][0],l=e[0][1],p=e[0][1],n=1;n<e.length;n++)t=O(t,e[n][0]),o=w(o,e[n][0]),l=O(l,e[n][1]),p=w(p,e[n][1]);return[o-t,p-l]}return[0,0]},e.prototype.polygonPath=function(e){var t="";if(e.length){t="M"+e[0][0]+","+e[0][1];for(var o=1;o<e.length;o++)t=t+" L"+e[o][0]+","+e[o][1]}return t},e.prototype.computePathSize=function(e){var t=[0,0];if(X&&self.document)try{var o=self.document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("width","0"),o.setAttribute("height","0");var l=self.document.createElementNS("http://www.w3.org/2000/svg","path");l.setAttribute("d",e),o.appendChild(l),self.document.body.appendChild(o);var p=l.getBBox();p&&(t[0]=p.width||0,t[1]=p.height||0),self.document.body.removeChild(o)}catch(e){}var n=this.getCanvasSize();return t[0]*t[1]||(t=n),t},e.prototype.toPaths=function(e){for(var t=e.sets||[],l=e.options||this.defaultOptions,o=[],p=0,n=t;p<n.length;p++){var a=n[p],i=null;switch(a.type){case"path":i={d:this.opsToPath(a),stroke:l.stroke,strokeWidth:l.strokeWidth,fill:"none"};break;case"fillPath":i={d:this.opsToPath(a),stroke:"none",strokeWidth:0,fill:l.fill||"none"};break;case"fillSketch":i=this.fillSketch(a,l);break;case"path2Dfill":i={d:a.path||"",stroke:"none",strokeWidth:0,fill:l.fill||"none"};break;case"path2Dpattern":{var s=a.size,r={x:0,y:0,width:1,height:1,viewBox:"0 0 "+h(s[0])+" "+h(s[1]),patternUnits:"objectBoundingBox",path:this.fillSketch(a,l)};i={d:a.path,stroke:"none",strokeWidth:0,pattern:r};break}}i&&o.push(i)}return o},e.prototype.fillSketch=function(e,t){var o=t.fillWeight;return 0>o&&(o=t.strokeWidth/2),{d:this.opsToPath(e),stroke:t.fill||"none",strokeWidth:o,fill:"none"}},e.prototype.opsToPath=function(e){for(var t="",o=0,l=e.ops;o<l.length;o++){var p=l[o],n=p.data;switch(p.op){case"move":t+="M"+n[0]+" "+n[1]+" ";break;case"bcurveTo":t+="C"+n[0]+" "+n[1]+", "+n[2]+" "+n[3]+", "+n[4]+" "+n[5]+" ";break;case"qcurveTo":t+="Q"+n[0]+" "+n[1]+", "+n[2]+" "+n[3]+" ";break;case"lineTo":t+="L"+n[0]+" "+n[1]+" ";}}return t.trim()},e}(),G=function(t){function o(e,o){return t.call(this,e,o)||this}return e(o,t),o.prototype.line=function(e,t,l,p,n){var a=this._options(n);return this._drawable("line",[this.lib.line(e,t,l,p,a)],a)},o.prototype.rectangle=function(e,t,l,p,n){var a=this._options(n),o=[];if(a.fill){var i=[[e,t],[e+l,t],[e+l,t+p],[e,t+p]];"solid"===a.fillStyle?o.push(this.lib.solidFillPolygon(i,a)):o.push(this.lib.patternFillPolygon(i,a))}return o.push(this.lib.rectangle(e,t,l,p,a)),this._drawable("rectangle",o,a)},o.prototype.ellipse=function(e,t,l,p,n){var a=this._options(n),o=[];if(a.fill)if("solid"===a.fillStyle){var i=this.lib.ellipse(e,t,l,p,a);i.type="fillPath",o.push(i)}else o.push(this.lib.patternFillEllipse(e,t,l,p,a));return o.push(this.lib.ellipse(e,t,l,p,a)),this._drawable("ellipse",o,a)},o.prototype.circle=function(e,t,o,l){var p=this.ellipse(e,t,o,o,l);return p.shape="circle",p},o.prototype.linearPath=function(e,t){var l=this._options(t);return this._drawable("linearPath",[this.lib.linearPath(e,!1,l)],l)},o.prototype.arc=function(e,t,l,p,n,a,i,s){void 0===i&&(i=!1);var r=this._options(s),o=[];if(i&&r.fill)if("solid"===r.fillStyle){var d=this.lib.arc(e,t,l,p,n,a,!0,!1,r);d.type="fillPath",o.push(d)}else o.push(this.lib.patternFillArc(e,t,l,p,n,a,r));return o.push(this.lib.arc(e,t,l,p,n,a,i,!0,r)),this._drawable("arc",o,r)},o.prototype.curve=function(e,t){var l=this._options(t);return this._drawable("curve",[this.lib.curve(e,l)],l)},o.prototype.polygon=function(e,t){var l=this._options(t),o=[];if(l.fill)if("solid"===l.fillStyle)o.push(this.lib.solidFillPolygon(e,l));else{var p=this.computePolygonSize(e),n=[[0,0],[p[0],0],[p[0],p[1]],[0,p[1]]],a=this.lib.patternFillPolygon(n,l);a.type="path2Dpattern",a.size=p,a.path=this.polygonPath(e),o.push(a)}return o.push(this.lib.linearPath(e,!0,l)),this._drawable("polygon",o,l)},o.prototype.path=function(e,t){var l=this._options(t),o=[];if(!e)return this._drawable("path",o,l);if(l.fill)if("solid"===l.fillStyle){var p={type:"path2Dfill",path:e,ops:[]};o.push(p)}else{var n=this.computePathSize(e),a=[[0,0],[n[0],0],[n[0],n[1]],[0,n[1]]],p=this.lib.patternFillPolygon(a,l);p.type="path2Dpattern",p.size=n,p.path=e,o.push(p)}return o.push(this.lib.svgPath(e,l)),this._drawable("path",o,l)},o}(V),j="undefined"!=typeof document,I=function(){function e(e){this.canvas=e,this.ctx=this.canvas.getContext("2d")}return e.createRenderer=function(){return new M},e.prototype.draw=function(e){for(var t,l=e.sets||[],p=e.options||this.getDefaultOptions(),o=this.ctx,n=0,a=l;n<a.length;n++)switch(t=a[n],t.type){case"path":o.save(),o.strokeStyle=p.stroke,o.lineWidth=p.strokeWidth,this._drawToContext(o,t),o.restore();break;case"fillPath":o.save(),o.fillStyle=p.fill||"",this._drawToContext(o,t),o.restore();break;case"fillSketch":this.fillSketch(o,t,p);break;case"path2Dfill":{this.ctx.save(),this.ctx.fillStyle=p.fill||"";var i=new Path2D(t.path);this.ctx.fill(i),this.ctx.restore();break}case"path2Dpattern":{var s=this.canvas.ownerDocument||j&&document;if(s){var r=t.size,d=s.createElement("canvas"),f=d.getContext("2d"),h=this.computeBBox(t.path);h&&(h.width||h.height)?(d.width=this.canvas.width,d.height=this.canvas.height,f.translate(h.x||0,h.y||0)):(d.width=r[0],d.height=r[1]),this.fillSketch(f,t,p),this.ctx.save(),this.ctx.fillStyle=this.ctx.createPattern(d,"repeat");var i=new Path2D(t.path);this.ctx.fill(i),this.ctx.restore()}else console.error("Cannot render path2Dpattern. No defs/document defined.");break}}},e.prototype.computeBBox=function(e){if(j)try{var t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("width","0"),t.setAttribute("height","0");var o=self.document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("d",e),t.appendChild(o),document.body.appendChild(t);var l=o.getBBox();return document.body.removeChild(t),l}catch(e){}return null},e.prototype.fillSketch=function(e,t,l){var o=l.fillWeight;0>o&&(o=l.strokeWidth/2),e.save(),e.strokeStyle=l.fill||"",e.lineWidth=o,this._drawToContext(e,t),e.restore()},e.prototype._drawToContext=function(e,t){e.beginPath();for(var o=0,l=t.ops;o<l.length;o++){var p=l[o],n=p.data;switch(p.op){case"move":e.moveTo(n[0],n[1]);break;case"bcurveTo":e.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5]);break;case"qcurveTo":e.quadraticCurveTo(n[0],n[1],n[2],n[3]);break;case"lineTo":e.lineTo(n[0],n[1]);}}"fillPath"===t.type?e.fill():e.stroke()},e}(),Q=function(t){function o(e,o){var l=t.call(this,e)||this;return l.gen=new G(o||null,l.canvas),l}return e(o,t),Object.defineProperty(o.prototype,"generator",{get:function(){return this.gen},enumerable:!0,configurable:!0}),o.prototype.getDefaultOptions=function(){return this.gen.defaultOptions},o.prototype.line=function(e,t,o,l,p){var n=this.gen.line(e,t,o,l,p);return this.draw(n),n},o.prototype.rectangle=function(e,t,o,l,p){var n=this.gen.rectangle(e,t,o,l,p);return this.draw(n),n},o.prototype.ellipse=function(e,t,o,l,p){var n=this.gen.ellipse(e,t,o,l,p);return this.draw(n),n},o.prototype.circle=function(e,t,o,l){var p=this.gen.circle(e,t,o,l);return this.draw(p),p},o.prototype.linearPath=function(e,t){var o=this.gen.linearPath(e,t);return this.draw(o),o},o.prototype.polygon=function(e,t){var o=this.gen.polygon(e,t);return this.draw(o),o},o.prototype.arc=function(e,t,o,l,p,n,a,i){void 0===a&&(a=!1);var s=this.gen.arc(e,t,o,l,p,n,a,i);return this.draw(s),s},o.prototype.curve=function(e,t){var o=this.gen.curve(e,t);return this.draw(o),o},o.prototype.path=function(e,t){var o=this.gen.path(e,t);return this.draw(o),o},o}(I),$=function(o){function p(){return null!==o&&o.apply(this,arguments)||this}return e(p,o),p.prototype.line=function(e,p,n,a,i){return t(this,void 0,Promise,function(){var t,s,r;return l(this,function(o){switch(o.label){case 0:return t=this._options(i),s=this._drawable,r=["line"],[4,this.lib.line(e,p,n,a,t)];case 1:return[2,s.apply(this,r.concat([[o.sent()],t]))];}})})},p.prototype.rectangle=function(e,p,n,a,i){return t(this,void 0,Promise,function(){var t,s,r,d,f,h,g,y,c;return l(this,function(o){switch(o.label){case 0:return(t=this._options(i),s=[],!t.fill)?[3,4]:(r=[[e,p],[e+n,p],[e+n,p+a],[e,p+a]],"solid"!==t.fillStyle)?[3,2]:(f=(d=s).push,[4,this.lib.solidFillPolygon(r,t)]);case 1:return f.apply(d,[o.sent()]),[3,4];case 2:return g=(h=s).push,[4,this.lib.patternFillPolygon(r,t)];case 3:g.apply(h,[o.sent()]),o.label=4;case 4:return c=(y=s).push,[4,this.lib.rectangle(e,p,n,a,t)];case 5:return c.apply(y,[o.sent()]),[2,this._drawable("rectangle",s,t)];}})})},p.prototype.ellipse=function(e,p,n,a,i){return t(this,void 0,Promise,function(){var t,s,r,d,f,h,g;return l(this,function(o){switch(o.label){case 0:return t=this._options(i),s=[],t.fill?"solid"===t.fillStyle?[4,this.lib.ellipse(e,p,n,a,t)]:[3,2]:[3,4];case 1:return r=o.sent(),r.type="fillPath",s.push(r),[3,4];case 2:return f=(d=s).push,[4,this.lib.patternFillEllipse(e,p,n,a,t)];case 3:f.apply(d,[o.sent()]),o.label=4;case 4:return g=(h=s).push,[4,this.lib.ellipse(e,p,n,a,t)];case 5:return g.apply(h,[o.sent()]),[2,this._drawable("ellipse",s,t)];}})})},p.prototype.circle=function(e,o,p,n){return t(this,void 0,Promise,function(){var t;return l(this,function(l){switch(l.label){case 0:return[4,this.ellipse(e,o,p,p,n)];case 1:return t=l.sent(),t.shape="circle",[2,t];}})})},p.prototype.linearPath=function(e,p){return t(this,void 0,Promise,function(){var t,n,a;return l(this,function(o){switch(o.label){case 0:return t=this._options(p),n=this._drawable,a=["linearPath"],[4,this.lib.linearPath(e,!1,t)];case 1:return[2,n.apply(this,a.concat([[o.sent()],t]))];}})})},p.prototype.arc=function(e,p,n,a,i,s,r,d){return void 0===r&&(r=!1),t(this,void 0,Promise,function(){var t,f,h,g,y,c,u;return l(this,function(o){switch(o.label){case 0:return t=this._options(d),f=[],r&&t.fill?"solid"===t.fillStyle?[4,this.lib.arc(e,p,n,a,i,s,!0,!1,t)]:[3,2]:[3,4];case 1:return h=o.sent(),h.type="fillPath",f.push(h),[3,4];case 2:return y=(g=f).push,[4,this.lib.patternFillArc(e,p,n,a,i,s,t)];case 3:y.apply(g,[o.sent()]),o.label=4;case 4:return u=(c=f).push,[4,this.lib.arc(e,p,n,a,i,s,r,!0,t)];case 5:return u.apply(c,[o.sent()]),[2,this._drawable("arc",f,t)];}})})},p.prototype.curve=function(e,p){return t(this,void 0,Promise,function(){var t,n,a;return l(this,function(o){switch(o.label){case 0:return t=this._options(p),n=this._drawable,a=["curve"],[4,this.lib.curve(e,t)];case 1:return[2,n.apply(this,a.concat([[o.sent()],t]))];}})})},p.prototype.polygon=function(e,p){return t(this,void 0,Promise,function(){var t,n,a,i,s,r,d,f,h;return l(this,function(o){switch(o.label){case 0:return(t=this._options(p),n=[],!t.fill)?[3,4]:"solid"===t.fillStyle?(i=(a=n).push,[4,this.lib.solidFillPolygon(e,t)]):[3,2];case 1:return i.apply(a,[o.sent()]),[3,4];case 2:return s=this.computePolygonSize(e),r=[[0,0],[s[0],0],[s[0],s[1]],[0,s[1]]],[4,this.lib.patternFillPolygon(r,t)];case 3:d=o.sent(),d.type="path2Dpattern",d.size=s,d.path=this.polygonPath(e),n.push(d),o.label=4;case 4:return h=(f=n).push,[4,this.lib.linearPath(e,!0,t)];case 5:return h.apply(f,[o.sent()]),[2,this._drawable("polygon",n,t)];}})})},p.prototype.path=function(e,p){return t(this,void 0,Promise,function(){var t,n,a,i,s,a,r,d;return l(this,function(o){switch(o.label){case 0:return(t=this._options(p),n=[],!e)?[2,this._drawable("path",n,t)]:t.fill?"solid"===t.fillStyle?(a={type:"path2Dfill",path:e,ops:[]},n.push(a),[3,3]):[3,1]:[3,3];case 1:return i=this.computePathSize(e),s=[[0,0],[i[0],0],[i[0],i[1]],[0,i[1]]],[4,this.lib.patternFillPolygon(s,t)];case 2:a=o.sent(),a.type="path2Dpattern",a.size=i,a.path=e,n.push(a),o.label=3;case 3:return d=(r=n).push,[4,this.lib.svgPath(e,t)];case 4:return d.apply(r,[o.sent()]),[2,this._drawable("path",n,t)];}})})},p}(V),Z=function(o){function p(e,t){var l=o.call(this,e)||this;return l.genAsync=new $(t||null,l.canvas),l}return e(p,o),Object.defineProperty(p.prototype,"generator",{get:function(){return this.genAsync},enumerable:!0,configurable:!0}),p.prototype.getDefaultOptions=function(){return this.genAsync.defaultOptions},p.prototype.line=function(e,o,p,n,a){return t(this,void 0,Promise,function(){var t;return l(this,function(l){switch(l.label){case 0:return[4,this.genAsync.line(e,o,p,n,a)];case 1:return t=l.sent(),this.draw(t),[2,t];}})})},p.prototype.rectangle=function(e,o,p,n,a){return t(this,void 0,Promise,function(){var t;return l(this,function(l){switch(l.label){case 0:return[4,this.genAsync.rectangle(e,o,p,n,a)];case 1:return t=l.sent(),this.draw(t),[2,t];}})})},p.prototype.ellipse=function(e,o,p,n,a){return t(this,void 0,Promise,function(){var t;return l(this,function(l){switch(l.label){case 0:return[4,this.genAsync.ellipse(e,o,p,n,a)];case 1:return t=l.sent(),this.draw(t),[2,t];}})})},p.prototype.circle=function(e,o,p,n){return t(this,void 0,Promise,function(){var t;return l(this,function(l){switch(l.label){case 0:return[4,this.genAsync.circle(e,o,p,n)];case 1:return t=l.sent(),this.draw(t),[2,t];}})})},p.prototype.linearPath=function(e,o){return t(this,void 0,Promise,function(){var t;return l(this,function(l){switch(l.label){case 0:return[4,this.genAsync.linearPath(e,o)];case 1:return t=l.sent(),this.draw(t),[2,t];}})})},p.prototype.polygon=function(e,o){return t(this,void 0,Promise,function(){var t;return l(this,function(l){switch(l.label){case 0:return[4,this.genAsync.polygon(e,o)];case 1:return t=l.sent(),this.draw(t),[2,t];}})})},p.prototype.arc=function(e,o,p,n,a,i,s,r){return void 0===s&&(s=!1),t(this,void 0,Promise,function(){var t;return l(this,function(l){switch(l.label){case 0:return[4,this.genAsync.arc(e,o,p,n,a,i,s,r)];case 1:return t=l.sent(),this.draw(t),[2,t];}})})},p.prototype.curve=function(e,o){return t(this,void 0,Promise,function(){var t;return l(this,function(l){switch(l.label){case 0:return[4,this.genAsync.curve(e,o)];case 1:return t=l.sent(),this.draw(t),[2,t];}})})},p.prototype.path=function(e,o){return t(this,void 0,Promise,function(){var t;return l(this,function(l){switch(l.label){case 0:return[4,this.genAsync.path(e,o)];case 1:return t=l.sent(),this.draw(t),[2,t];}})})},p}(I),H="undefined"!=typeof document,J=function(){function e(e){this.svg=e}return e.createRenderer=function(){return new M},Object.defineProperty(e.prototype,"defs",{get:function(){var e=this.svg.ownerDocument||H&&document;if(e&&!this._defs){var t=e.createElementNS("http://www.w3.org/2000/svg","defs");this.svg.firstChild?this.svg.insertBefore(t,this.svg.firstChild):this.svg.appendChild(t),this._defs=t}return this._defs||null},enumerable:!0,configurable:!0}),e.prototype.draw=function(e){for(var t=Number.MAX_SAFE_INTEGER,l=e.sets||[],p=e.options||this.getDefaultOptions(),o=this.svg.ownerDocument||H&&document,n=o.createElementNS("http://www.w3.org/2000/svg","g"),a=0,i=l;a<i.length;a++){var s=i[a],r=null;switch(s.type){case"path":{r=o.createElementNS("http://www.w3.org/2000/svg","path"),r.setAttribute("d",this.opsToPath(s)),r.style.stroke=p.stroke,r.style.strokeWidth=p.strokeWidth+"",r.style.fill="none";break}case"fillPath":{r=o.createElementNS("http://www.w3.org/2000/svg","path"),r.setAttribute("d",this.opsToPath(s)),r.style.stroke="none",r.style.strokeWidth="0",r.style.fill=p.fill||null;break}case"fillSketch":{r=this.fillSketch(o,s,p);break}case"path2Dfill":{r=o.createElementNS("http://www.w3.org/2000/svg","path"),r.setAttribute("d",s.path||""),r.style.stroke="none",r.style.strokeWidth="0",r.style.fill=p.fill||null;break}case"path2Dpattern":{if(!this.defs)console.error("Cannot render path2Dpattern. No defs/document defined.");else{var d=s.size,f=o.createElementNS("http://www.w3.org/2000/svg","pattern"),y="rough-"+g(Math.random()*(t||999999));f.setAttribute("id",y),f.setAttribute("x","0"),f.setAttribute("y","0"),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("height","1"),f.setAttribute("viewBox","0 0 "+h(d[0])+" "+h(d[1])),f.setAttribute("patternUnits","objectBoundingBox");var c=this.fillSketch(o,s,p);f.appendChild(c),this.defs.appendChild(f),r=o.createElementNS("http://www.w3.org/2000/svg","path"),r.setAttribute("d",s.path||""),r.style.stroke="none",r.style.strokeWidth="0",r.style.fill="url(#"+y+")"}break}}r&&n.appendChild(r)}return n},e.prototype.fillSketch=function(e,t,l){var o=l.fillWeight;0>o&&(o=l.strokeWidth/2);var p=e.createElementNS("http://www.w3.org/2000/svg","path");return p.setAttribute("d",this.opsToPath(t)),p.style.stroke=l.fill||null,p.style.strokeWidth=o+"",p.style.fill="none",p},e}(),Y=function(t){function o(e,o){var l=t.call(this,e)||this;return l.gen=new G(o||null,l.svg),l}return e(o,t),Object.defineProperty(o.prototype,"generator",{get:function(){return this.gen},enumerable:!0,configurable:!0}),o.prototype.getDefaultOptions=function(){return this.gen.defaultOptions},o.prototype.opsToPath=function(e){return this.gen.opsToPath(e)},o.prototype.line=function(e,t,o,l,p){var n=this.gen.line(e,t,o,l,p);return this.draw(n)},o.prototype.rectangle=function(e,t,o,l,p){var n=this.gen.rectangle(e,t,o,l,p);return this.draw(n)},o.prototype.ellipse=function(e,t,o,l,p){var n=this.gen.ellipse(e,t,o,l,p);return this.draw(n)},o.prototype.circle=function(e,t,o,l){var p=this.gen.circle(e,t,o,l);return this.draw(p)},o.prototype.linearPath=function(e,t){var o=this.gen.linearPath(e,t);return this.draw(o)},o.prototype.polygon=function(e,t){var o=this.gen.polygon(e,t);return this.draw(o)},o.prototype.arc=function(e,t,o,l,p,n,a,i){void 0===a&&(a=!1);var s=this.gen.arc(e,t,o,l,p,n,a,i);return this.draw(s)},o.prototype.curve=function(e,t){var o=this.gen.curve(e,t);return this.draw(o)},o.prototype.path=function(e,t){var o=this.gen.path(e,t);return this.draw(o)},o}(J),K=function(o){function p(e,t){var l=o.call(this,e)||this;return l.genAsync=new $(t||null,l.svg),l}return e(p,o),Object.defineProperty(p.prototype,"generator",{get:function(){return this.genAsync},enumerable:!0,configurable:!0}),p.prototype.getDefaultOptions=function(){return this.genAsync.defaultOptions},p.prototype.opsToPath=function(e){return this.genAsync.opsToPath(e)},p.prototype.line=function(e,o,p,n,a){return t(this,void 0,Promise,function(){var t;return l(this,function(l){switch(l.label){case 0:return[4,this.genAsync.line(e,o,p,n,a)];case 1:return t=l.sent(),[2,this.draw(t)];}})})},p.prototype.rectangle=function(e,o,p,n,a){return t(this,void 0,Promise,function(){var t;return l(this,function(l){switch(l.label){case 0:return[4,this.genAsync.rectangle(e,o,p,n,a)];case 1:return t=l.sent(),[2,this.draw(t)];}})})},p.prototype.ellipse=function(e,o,p,n,a){return t(this,void 0,Promise,function(){var t;return l(this,function(l){switch(l.label){case 0:return[4,this.genAsync.ellipse(e,o,p,n,a)];case 1:return t=l.sent(),[2,this.draw(t)];}})})},p.prototype.circle=function(e,o,p,n){return t(this,void 0,Promise,function(){var t;return l(this,function(l){switch(l.label){case 0:return[4,this.genAsync.circle(e,o,p,n)];case 1:return t=l.sent(),[2,this.draw(t)];}})})},p.prototype.linearPath=function(e,o){return t(this,void 0,Promise,function(){var t;return l(this,function(l){switch(l.label){case 0:return[4,this.genAsync.linearPath(e,o)];case 1:return t=l.sent(),[2,this.draw(t)];}})})},p.prototype.polygon=function(e,o){return t(this,void 0,Promise,function(){var t;return l(this,function(l){switch(l.label){case 0:return[4,this.genAsync.polygon(e,o)];case 1:return t=l.sent(),[2,this.draw(t)];}})})},p.prototype.arc=function(e,o,p,n,a,i,s,r){return void 0===s&&(s=!1),t(this,void 0,Promise,function(){var t;return l(this,function(l){switch(l.label){case 0:return[4,this.genAsync.arc(e,o,p,n,a,i,s,r)];case 1:return t=l.sent(),[2,this.draw(t)];}})})},p.prototype.curve=function(e,o){return t(this,void 0,Promise,function(){var t;return l(this,function(l){switch(l.label){case 0:return[4,this.genAsync.curve(e,o)];case 1:return t=l.sent(),[2,this.draw(t)];}})})},p.prototype.path=function(e,o){return t(this,void 0,Promise,function(){var t;return l(this,function(l){switch(l.label){case 0:return[4,this.genAsync.path(e,o)];case 1:return t=l.sent(),[2,this.draw(t)];}})})},p}(J);return{canvas:function(e,t){return t&&t.async?new Z(e,t):new Q(e,t)},svg:function(e,t){return t&&t.async?new K(e,t):new Y(e,t)},createRenderer:function(){return Q.createRenderer()},generator:function(e,t){return e&&e.async?new $(e,t):new G(e,t)}}}();
